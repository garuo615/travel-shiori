<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¬éƒ½ãƒ»æ»‹è³€ æ—…ã®ã—ãŠã‚Š</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">

    <style>
        /* äº¬éƒ½ãƒ»æ»‹è³€ æ—…ã®ã—ãŠã‚Šãƒ†ãƒ¼ãƒï¼ˆæš–è‰²ç³»ï¼‰ */
        :root {
            --primary-color: #ed6d3d; /* æ·±ã„ã‚ªãƒ¬ãƒ³ã‚¸ */
            --bg-color: #fdfcf8;      /* å’Œç´™ã®ã‚ˆã†ãªã‚ªãƒ•ãƒ›ãƒ¯ã‚¤ãƒˆ */
            --text-color: #4a3b32;    /* ç„¦ã’èŒ¶è‰² */
        }

        body {
            font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            text-align: center;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆè¡¨ç´™ï¼‰ */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 60px 20px;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 4px 10px rgba(237, 109, 61, 0.3);
        }
        
        h1 {
            margin: 0;
            font-size: 28px;
            letter-spacing: 2px;
            font-weight: normal;
        }
        
        .date {
            margin-top: 10px;
            font-size: 16px;
            opacity: 0.9;
            font-family: sans-serif;
        }

        /* ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
        .menu {
            padding: 40px 20px 20px; /* ä¸‹ã®ä½™ç™½ã‚’å°‘ã—èª¿æ•´ */
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
        }

        /* ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .menu-btn {
            display: block;
            background-color: white;
            color: var(--primary-color);
            text-decoration: none;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid var(--primary-color);
            font-weight: bold;
            font-family: sans-serif;
            transition: all 0.2s;
            box-shadow: 0 4px 0 rgba(237, 109, 61, 0.2);
            position: relative;
        }

        .menu-btn:active {
            transform: translateY(2px);
            box-shadow: none;
            background-color: #fff5f0;
        }

        .icon {
            font-size: 24px;
            margin-right: 10px;
            vertical-align: middle;
        }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        footer {
            margin-top: 20px;
            font-size: 12px;
            color: #888;
            padding-bottom: 40px;
            font-family: sans-serif;
        }

        /* =========================================
           ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é…ç½®ç‰ˆï¼‰
           ========================================= */
        
        #chara-container {
            /* ç”»é¢å›ºå®š(fixed)ã‚’ã‚„ã‚ã¦ã€ãƒšãƒ¼ã‚¸ã®æµã‚Œã«æ²¿ã£ã¦é…ç½®(relative) */
            position: relative; 
            margin: 60px auto 20px; /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ã®é–“ã«60pxã®éš™é–“ã‚’ç©ºã‘ã‚‹ */
            width: 180px;           /* ã‚­ãƒ£ãƒ©ã®å¹… */
            z-index: 10;
            cursor: pointer;
            text-align: center;     /* ç”»åƒã‚’ä¸­å¤®å¯„ã› */
        }

        #chara-img {
            width: 100%;
            height: auto;
            filter: drop-shadow(3px 3px 0px rgba(0,0,0,0.2)); 
            display: block;
            margin: 0 auto;
        }
        
        /* ã‚¿ãƒƒãƒ—ã—ãŸæ™‚ã®å‹•ã */
        #chara-container:active #chara-img {
            transform: scale(0.95) translateY(5px);
        }

        /* å¹ãå‡ºã—ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        #speech-bubble {
            position: absolute;
            bottom: 100%;    /* ã‚­ãƒ£ãƒ©ã®çœŸä¸Šã«é…ç½® */
            left: 50%;       /* å·¦å³ä¸­å¤® */
            transform: translateX(-50%); /* å®Œå…¨ã«çœŸã‚“ä¸­ã¸ */
            
            width: 260px;
            
            /* ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã«åˆã‚ã›ãŸãƒ‡ã‚¶ã‚¤ãƒ³ */
            background: #fff;
            color: #4a3b32;
            border: 3px solid #ed6d3d;
            border-radius: 12px;
            padding: 15px;
            
            font-family: 'DotGothic16', sans-serif;
            font-size: 16px;
            line-height: 1.6;
            
            display: none; /* æœ€åˆã¯éš ã™ */
            box-shadow: 4px 4px 0px rgba(237, 109, 61, 0.2);
            z-index: 1001;
        }

        /* å¹ãå‡ºã—ã®ã—ã£ã½ï¼ˆæ ç·šï¼‰ */
        #speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 10px 10px 0;
            border-style: solid;
            border-color: #ed6d3d transparent transparent transparent;
        }
        
        /* å¹ãå‡ºã—ã®ã—ã£ã½ï¼ˆç™½å¡—ã‚Šï¼‰ */
        #speech-bubble::before {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 7px 7px 0;
            border-style: solid;
            border-color: #fff transparent transparent transparent;
            z-index: 1;
        }
    </style>
</head>
<body>

    <header>
        <h1>ã«ã“ã¡ã‚ƒã‚“<br>èª•ç”Ÿæ—¥æ—…è¡Œ</h1>
        <div class="date">2025.12.24 - 12.25</div>
    </header>

    <div class="menu">
        <p>æ—…ã®æº–å‚™ã‚’å§‹ã‚ã¾ã—ã‚‡ã†</p>

        <a href="mochimono.html" class="menu-btn">
            <span class="icon">ğŸ‘œ</span> æŒã¡ç‰©ãƒªã‚¹ãƒˆ
        </a>

        <a href="schedule.html" class="menu-btn">
            <span class="icon">ğŸ“…</span> ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
        </a>

        <a href="#" class="menu-btn" style="opacity: 0.5; cursor: default;">
            <span class="icon">ğŸ—ºï¸</span> ãƒãƒƒãƒ— (æº–å‚™ä¸­)
        </a>

        <a href="memories.html" class="menu-btn">
            <span class="icon">ğŸ“¸</span> æ€ã„å‡ºã‚¢ãƒ«ãƒãƒ 
        </a>
    </div>

    <div id="chara-container" onclick="talk()">
        <div id="speech-bubble"></div>
        <img id="chara-img" src="images/chara.png" alt="æ¡ˆå†…ã‚­ãƒ£ãƒ©">
    </div>

    <footer>
        Have a nice trip!
    </footer>

    <script>
        // === è¨­å®šã‚¨ãƒªã‚¢ ===
        let tapCount = 0;
        let isTyping = false;
        let typingTimer = null;

        // ã‚»ãƒªãƒ•è¨­å®š
        const normalTexts = [
            "äº¬éƒ½ã¸ã‚ˆã†ã“ãï¼",
            "ä¸Šã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰\nã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã€‚",
            "æº–å‚™ã¯ãƒãƒƒãƒãƒªï¼Ÿ",
            "ã‚¿ãƒƒãƒ—ã—ã¦ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€‚",
            "æ¥½ã—ã¿ã ã­ï¼",
            "åƒ•ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã‚‚\nä½•ã‚‚å‡ºãªã„ã‚ˆ...å¤šåˆ†ã€‚",
            "ãŠåœŸç”£ã¯ä½•ã‚’è²·ã†äºˆå®šï¼Ÿ"
        ];

        const dateTexts = {
            "11/30": ["ã¤ã„ã«å½“æ—¥ã ã­ï¼\næ°—ã‚’ã¤ã‘ã¦ã„ã“ã†ï¼", "æ–°å¹¹ç·šã®æ™‚é–“ã¯å¤§ä¸ˆå¤«ï¼Ÿ"],
            "12/1": ["æ—…è¡Œ2æ—¥ç›®ï¼\nä»Šæ—¥ã‚‚æ¥½ã—ã‚‚ã†ï¼", "è¶³ã€ç—›ããªã„ï¼Ÿ"]
        };

        const timeTexts = {
            morning: ["ãŠã¯ã‚ˆã†ï¼\næ—©èµ·ãã ã­ã€‚", "æœã”ã¯ã‚“ã¯é£Ÿã¹ãŸï¼Ÿ"],
            night:   ["ã‚‚ã†å¤œã ã‚ˆã€‚\næ˜æ—¥ã«å‚™ãˆã¦å¯ã‚ˆã†ã€‚", "â€¦â€¦Zzz"]
        };

        const annoyedTexts = [
            "â€¦â€¦ã€‚",
            "ãã‚“ãªã«è§¦ã‚‰ãªã„ã§ã€‚",
            "ã—ã¤ã“ã„ãªã‚ã€‚",
            "ã‚‚ã—ã‹ã—ã¦ã€\nãƒ’ãƒãªã®ï¼Ÿ",
            "ã‚±ãƒ„ã‚¤ãŒã¿ãªãã£ã¦ããŸã€‚"
        ];

        // === æ©Ÿèƒ½ã‚¨ãƒªã‚¢ ===
        function talk() {
            const bubble = document.getElementById('speech-bubble');
            
            if (isTyping) {
                clearTimeout(typingTimer);
                isTyping = false;
            }

            tapCount++;
            let message = "";
            const now = new Date();
            const dateStr = (now.getMonth() + 1) + "/" + now.getDate();
            const hour = now.getHours();

            // æ¡ä»¶åˆ†å²
            if (tapCount > 10 && Math.random() < 0.3) {
                 message = pickRandom(annoyedTexts);
            } else if (dateTexts[dateStr]) {
                message = pickRandom(dateTexts[dateStr]);
            } else if (hour >= 5 && hour <= 9) {
                message = pickRandom(timeTexts.morning);
            } else if (hour >= 22 || hour <= 4) {
                message = pickRandom(timeTexts.night);
            } else {
                message = pickRandom(normalTexts);
            }

            // è¡¨ç¤ºé–‹å§‹
            bubble.style.display = "block";
            bubble.innerHTML = "";
            typeWriter(message, bubble, 0);
        }

        function pickRandom(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function typeWriter(text, element, index) {
            isTyping = true;
            
            if (text.charAt(index) === "\n") {
                element.innerHTML += "<br>";
            } else {
                element.innerHTML += text.charAt(index);
            }

            if (index < text.length - 1) {
                const speed = 50 + Math.random() * 50; 
                typingTimer = setTimeout(() => {
                    typeWriter(text, element, index + 1);
                }, speed);
            } else {
                isTyping = false;
                // è‡ªå‹•ã§æ¶ˆãˆã‚‹ã‚¿ã‚¤ãƒãƒ¼ã¯å‰Šé™¤æ¸ˆã¿ï¼ˆå‡ºã—ã£ã±ãªã—ï¼‰
            }
        }
    </script>
</body>
</html>