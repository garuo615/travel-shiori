<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆğŸ</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">

    <style>
        /* ãƒ†ãƒ¼ãƒè¨­å®š */
        :root {
            --primary-color: #ed6d3d;
            --secondary-color: #ff69b4;
            --bg-color: #fdfcf8;
            --text-color: #4a3b32;
            --paper-color: #fffbf0;
        }

        body {
            font-family: "Hiragino Mincho ProN", "Yu Mincho", serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            text-align: center;
            user-select: none;
            -webkit-user-select: none;
        }

        header {
            background-color: var(--secondary-color);
            color: white;
            padding: 30px 20px;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
            position: relative;
            display: flex; /* ã‚¿ã‚¤ãƒˆãƒ«ã¨ãƒœã‚¿ãƒ³ã‚’æ¨ªä¸¦ã³ã«èª¿æ•´ */
            align-items: center;
            justify-content: center;
        }

        /* â˜…ãƒ›ãƒ¼ãƒ ãƒœã‚¿ãƒ³ï¼ˆç”»åƒï¼‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .home-btn {
            position: absolute;
            top: 50%; /* ä¸Šä¸‹ä¸­å¤®ã«é…ç½® */
            left: 20px;
            transform: translateY(-50%); /* ä¸Šä¸‹ä¸­å¤®ã®ä½ç½®èª¿æ•´ */
            display: block;
            width: 40px; /* ç”»åƒã®è¡¨ç¤ºã‚µã‚¤ã‚ºï¼ˆãŠå¥½ã¿ã§èª¿æ•´ã—ã¦ãã ã•ã„ï¼‰ */
            height: auto;
            transition: transform 0.2s;
        }
        
        /* ç”»åƒè‡ªä½“ã‚’æ ã«åˆã‚ã›ã‚‹ */
        .home-btn img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        .home-btn:active {
            transform: translateY(-50%) scale(0.8);
        }
        
        h1 {
            margin: 0;
            font-size: 24px;
            letter-spacing: 1px;
            /* line-heightã¯å‰Šé™¤ã—ã¦Flexboxã§ä¸­å¤®æƒãˆã«ã—ã¾ã™ */
        }

        .coupon-list {
            padding: 30px 20px;
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .ticket-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            position: relative;
            transition: transform 0.2s, opacity 0.5s;
            cursor: pointer;
        }
        
        .ticket-card.used {
            opacity: 0.7;
            transform: scale(0.98);
        }

        .ticket-img {
            width: 100%;
            height: auto;
            display: block;
            border-bottom: 3px solid var(--secondary-color);
            pointer-events: none;
        }

        /* ã‚¹ã‚¿ãƒ³ãƒ— */
        .used-stamp {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-15deg);
            font-family: 'DotGothic16', sans-serif;
            font-size: 40px;
            color: red;
            border: 5px solid red;
            padding: 10px 20px;
            border-radius: 10px;
            opacity: 0.8;
            pointer-events: none;
            display: none;
            z-index: 10;
            background-color: rgba(255, 255, 255, 0.8);
        }
        .ticket-card.used .used-stamp {
            display: block;
        }

        .action-area {
            padding: 20px;
        }

        .use-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(219, 91, 155, 0.5);
            transition: all 0.2s;
            width: 100%;
            font-family: sans-serif;
        }

        .use-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .use-btn.disabled {
            background-color: #ccc;
            box-shadow: none;
            color: #666;
            cursor: default;
            pointer-events: none;
        }

        /* åˆ©ç”¨è¦ç´„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .terms-container {
            max-width: 500px;
            margin: 40px auto 20px;
            padding: 0 20px;
            text-align: left;
        }

        .terms-toggle {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 8px;
            text-align: center;
            font-size: 14px;
            color: #666;
            cursor: pointer;
            transition: background-color 0.2s;
            font-family: sans-serif;
        }
        .terms-toggle:hover {
            background-color: #f9f9f9;
        }
        .terms-toggle::after {
            content: ' â–¼';
            font-size: 10px;
        }
        .terms-toggle.open::after {
            content: ' â–²';
        }

        .terms-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
            margin-top: 10px;
            background-color: var(--paper-color);
            border: 3px double #a89f91;
            padding: 0 20px;
            font-family: "Hiragino Mincho ProN", "Yu Mincho", "MS PMincho", serif;
            color: #333;
            font-size: 13px;
            line-height: 1.8;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .terms-inner {
            padding: 20px 0;
        }

        .terms-title {
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 20px;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
        }

        .terms-article {
            margin-bottom: 15px;
        }
        .terms-article-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .highlight {
            font-weight: bold;
            color: #d32f2f;
            background: linear-gradient(transparent 60%, #ffeb3b 60%);
        }

        footer {
            margin-top: 20px;
            font-size: 12px;
            color: #888;
            padding-bottom: 20px;
            font-family: sans-serif;
        }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="home-btn">
            <img src="images/home.png" alt="ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹">
        </a>
        <h1>ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆğŸ</h1>
    </header>

    <div class="coupon-list" id="coupon-list-container">
        </div>

    <div class="terms-container">
        <div class="terms-toggle" onclick="toggleTerms(this)">
            âš  åˆ©ç”¨ä¸Šã®é‡è¦ãªãŠçŸ¥ã‚‰ã›
        </div>
        <div class="terms-content" id="terms-content">
            <div class="terms-inner">
                <div class="terms-title">å¤§çŸ³ãƒ»å €å£é–“ã«ãŠã‘ã‚‹<br>ç‰¹åˆ¥å„ªå¾…åˆ¸åˆ©ç”¨è¦ç´„</div>
                
                <p>æœ¬åˆ©ç”¨è¦ç´„ï¼ˆä»¥ä¸‹ï¼Œã€Œæœ¬è¦ç´„ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã¯ï¼Œå¤§çŸ³æ…¶äººï¼ˆä»¥ä¸‹ï¼Œã€Œç”²ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ãŒä½œæˆã—ï¼Œå €å£æ§˜ï¼ˆä»¥ä¸‹ï¼Œã€Œä¹™ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã«äº¤ä»˜ã™ã‚‹ç‰¹åˆ¥å„ªå¾…åˆ¸ï¼ˆä»¥ä¸‹ï¼Œã€Œæœ¬ç´™ç‰‡ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã®åˆ©ç”¨æ¡ä»¶ãã®ä»–ä¸€åˆ‡ã®é–¢ä¿‚ã‚’å®šã‚ã‚‹ã‚‚ã®ã§ã™ã€‚ä¹™ã¯ï¼Œæœ¬è¦ç´„ã«åŒæ„ã®ä¸Šï¼ˆã‚ã‚‹ã„ã¯åŒæ„ã—ãŸã¨ã¿ãªã•ã‚Œï¼‰ï¼Œæœ¬ç´™ç‰‡ã‚’å—é ˜ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚</p>

                <div class="terms-article">
                    <div class="terms-article-title">ç¬¬1æ¡ï¼ˆæ³•çš„æ€§è³ªã®ä¸å­˜åœ¨ãŠã‚ˆã³é©ç”¨ç¯„å›²ï¼‰</div>
                    æœ¬ç´™ç‰‡ã«è¨˜è¼‰ã•ã‚ŒãŸæ¨©åˆ©ãŠã‚ˆã³å½¹å‹™ã®æä¾›ã¯ï¼Œç”²ãŠã‚ˆã³ä¹™ã®äºŒè€…é–“ã«ãŠã„ã¦ã®ã¿é™å®šçš„ã«èªè­˜ã•ã‚Œã‚‹ã‚‚ã®ã§ã‚ã‚Šï¼Œæ—¥æœ¬å›½æ³•ãŠã‚ˆã³ãã®ä»–ã®æ³•åŸŸã«ãŠã‘ã‚‹ã„ã‹ãªã‚‹æ³•çš„æ‹˜æŸåŠ›ã‚‚æœ‰ã—ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚<br>
                    ç”²ãŠã‚ˆã³ä¹™ã¯ï¼Œæœ¬ç´™ç‰‡ãŒç‰©ç†çš„ã«ã¯å˜ãªã‚‹ãƒ‘ãƒ«ãƒ—ç­‰ã®ç¹Šç¶­é›†åˆä½“ï¼ˆã„ã‚ã‚†ã‚‹<span class="highlight">ã€ŒãŸã ã®ç´™åˆ‡ã‚Œã€</span>ï¼‰ã«éããªã„ã“ã¨ã‚’ç›¸äº’ã«ç¢ºèªã—ï¼Œã“ã‚Œã«ç•°è­°ã‚’ç”³ã—ç«‹ã¦ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
                </div>

                <div class="terms-article">
                    <div class="terms-article-title">ç¬¬2æ¡ï¼ˆæ¨©åˆ©è¡Œä½¿ã®æ‰‹ç¶šãŠã‚ˆã³ç™ºå£°ç¾©å‹™ï¼‰</div>
                    ä¹™ãŒæœ¬ç´™ç‰‡ã®åŠ¹åŠ›ã‚’ç™ºç”Ÿã•ã›ã‚ˆã†ã¨ã™ã‚‹å ´åˆï¼ˆä»¥ä¸‹ï¼Œã€Œæ¨©åˆ©è¡Œä½¿ã€ã¨ã„ã„ã¾ã™ã€‚ï¼‰ï¼Œä¹™ã¯ç”²ã«å¯¾ã—ï¼Œå½“è©²ç´™ç‰‡ã‚’æç¤ºã™ã‚‹ã¨åŒæ™‚ã«ï¼Œ<span class="highlight">ã€Œç™ºå‹•ã€</span>ã¨ã®æ–‡è¨€ã‚’ï¼Œå‘¨å›²ã®é™å¯‚ã‚’ç ´ã‚‹ã«è¶³ã‚‹æ˜ç­ã‹ã¤ååˆ†ãªéŸ³é‡ã‚’ã‚‚ã£ã¦å‘¼ç§°ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>
                    å‰é …ã®è¦å®šã«ã‚ˆã‚‹å‘¼ç§°ãŒãªã•ã‚Œãªã„å ´åˆï¼Œã¾ãŸã¯ç”²ãŒãã®å‘¼ç§°ã®éŸ³é‡ã‚’è‘—ã—ãä¸ååˆ†ï¼ˆã€ŒèšŠã®é³´ãã‚ˆã†ãªå£°ã€ç­‰ï¼‰ã¨åˆ¤æ–­ã—ãŸå ´åˆï¼Œæœ¬ç´™ç‰‡ã®åŠ¹åŠ›ã¯ä¸€åˆ‡ç™ºæ®ã•ã‚Œãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
                </div>

                <div class="terms-article">
                    <div class="terms-article-title">ç¬¬3æ¡ï¼ˆæä¾›è€…ã®æŠ—å¼æ¨©ãŠã‚ˆã³å¡è€³æ¨©ï¼‰</div>
                    å‰æ¡ã®è¦å®šã«ã‹ã‹ã‚ã‚‰ãšï¼Œç”²ã¯ï¼Œä¹™ã«ã‚ˆã‚‹æ¨©åˆ©è¡Œä½¿ã®è©¦ã¿ã«å¯¾ã—ï¼Œã“ã‚Œã‚’æ„å›³çš„ã«çœ‹éã—ï¼Œã¾ãŸã¯è´å–ã—ãªã‹ã£ãŸã‚‚ã®ã¨ã—ã¦æ‰±ã†æ¨©åˆ©ï¼ˆä»¥ä¸‹ï¼Œ<span class="highlight">ã€Œå¡è€³æ¨©ï¼ˆããã˜ã‘ã‚“ï¼‰ã€</span>ã¨ã„ã„ã¾ã™ã€‚ï¼‰ã‚’ç•™ä¿ã—ã¾ã™ã€‚<br>
                    ç”²ãŒå¡è€³æ¨©ã‚’è¡Œä½¿ã—ãŸå ´åˆï¼ˆã€Œã‚ãƒ¼èã“ãˆãªã„ã€ç­‰ã®æŒ™å‹•ã‚’å«ã‚€ãŒã“ã‚Œã«é™ã‚‰ã‚Œãªã„ï¼‰ï¼Œä¹™ã®æ¨©åˆ©è¡Œä½¿ã¯ç„¡åŠ¹ã¨ãªã‚Šï¼Œä¹™ã¯å†åº¦ï¼Œç¬¬2æ¡ã«å®šã‚ã‚‹æ‰‹ç¶šã‚’å±¥è¡Œã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
                </div>

                <div class="terms-article">
                    <div class="terms-article-title">ç¬¬4æ¡ï¼ˆå¯¾ä¾¡ãŠã‚ˆã³æ„Ÿè¬ã®è¡¨æ˜ç¾©å‹™ï¼‰</div>
                    æœ¬ç´™ç‰‡ã®å¯¾ä¾¡ã¯ç„¡å„Ÿã¨ã—ã¾ã™ãŒï¼Œä¹™ã¯ï¼Œæœ¬ç´™ç‰‡ã®ä¼ç”»ãƒ»è¨­è¨ˆãƒ»è£½é€ ãŠã‚ˆã³äº¤ä»˜ã«è‡³ã‚‹ã¾ã§ã«ç”²ãŒæŠ•å…¥ã—ãŸå¤šå¤§ãªã‚‹åŠ´åŠ›ï¼Œæ™‚é–“ï¼Œãªã‚‰ã³ã«ç²¾ç¥çš„çŒ®èº«ã«å¯¾ã—ï¼Œæ·±ç”šãªã‚‹æ•¬æ„ã¨æ„Ÿè¬ã®å¿µã‚’æŠ±ãç¾©å‹™ã‚’è² ã†ã‚‚ã®ã¨ã—ã¾ã™ã€‚<br>
                    ä¹™ã¯ï¼Œæœ¬ç´™ç‰‡ã®ä½¿ç”¨ã®æœ‰ç„¡ã«ã‹ã‹ã‚ã‚‰ãšï¼Œç”²ã«å¯¾ã—ï¼Œå‰é …ã«åŸºã¥ãæ„Ÿè¬ã®æ„ã‚’ï¼Œè¨€èªï¼Œè¡¨æƒ…ï¼Œã¾ãŸã¯æ…‹åº¦ç­‰ã®å®¢è¦³çš„ã«èªè­˜å¯èƒ½ãªæ–¹æ³•ã«ã‚ˆã‚Šï¼Œé©å®œè¡¨æ˜ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚
                </div>

                <div class="terms-article">
                    <div class="terms-article-title">ç¬¬5æ¡ï¼ˆå…è²¬äº‹é …ï¼‰</div>
                    ç”²ã¯ï¼Œæœ¬ç´™ç‰‡ã®åˆ©ç”¨ã¾ãŸã¯åˆ©ç”¨ä¸èƒ½ï¼ˆç”²ã®æ°—åˆ†ã«ã‚ˆã‚‹æ‹’çµ¶ã‚’å«ã‚€ï¼‰ã«èµ·å› ã—ã¦ä¹™ã«ç”Ÿã˜ãŸã‚ã‚‰ã‚†ã‚‹æå®³ï¼ˆæœŸå¾…å¤–ã‚Œï¼Œå¾’åŠ´æ„Ÿï¼Œç©ºè…¹ç­‰ã‚’å«ã‚€ï¼‰ã«ã¤ã„ã¦ï¼Œä¸€åˆ‡ã®è²¬ä»»ã‚’è² ã‚ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
                </div>

                <div style="text-align: right; margin-top: 20px;">
                    ä»¥ä¸Š
                </div>
            </div>
        </div>
    </div>

    <footer>
        å¤§äº‹ã«ä½¿ã£ã¦ã­
    </footer>

    <script>
        const STORAGE_KEY = 'coupon_status_v1';
        let pressTimer;

        // ãƒã‚±ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿
        const tickets = [
            { id: 1, img: 'ticket1.jpg', title: 'è‡³ç¦ã®å¯è½ã¡ãƒãƒƒã‚µãƒ¼ã‚¸åˆ¸' },
            { id: 2, img: 'ticket2.jpg', title: 'ãƒ©ãƒ¼ãƒ¡ãƒ³åˆ¸' },
            { id: 3, img: 'ticket3.jpg', title: 'ã‹ã‚‰ã‚ã’åˆ¸' },
            { id: 4, img: 'ticket4.jpg', title: 'é£Ÿå™¨åˆ¸' },
            { id: 5, img: 'ticket5.jpg', title: 'ãƒ‰ãƒ©ã‚¤ãƒ–åˆ¸' },
            { id: 6, img: 'ticket7.jpg', title: 'ãƒ©ã‚¤ãƒ–åˆ¸' },
            { id: 7, img: 'ticket8.jpg', title: 'é£²ã¿è¡Œãåˆ¸' },
            { id: 8, img: 'ticket9.jpg', title: 'ã‚«ãƒ©ã‚ªã‚±åˆ¸' },
            { id: 9, img: 'ticket10.jpg', title: 'ã‚¬ãƒãƒ£ã‚¬ãƒãƒ£åˆ¸' },
            { id: 10, img: 'ticket11.jpg', title: 'é¢¨å‘‚ã‚¹ã‚­ãƒƒãƒ—åˆ¸' }
        ];

        let usedStatus = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('coupon-list-container');
            
            tickets.forEach(ticket => {
                const isUsed = usedStatus[ticket.id];
                
                let cardClass = '';
                let btnClass = '';
                let btnText = 'ä½¿ç”¨ã™ã‚‹ï¼';
                let btnStyle = '';

                if (ticket.id === 10) {
                    if (isUsed) {
                        btnText = 'ã¾ãŸã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ï¼Ÿ';
                        btnStyle = 'background-color: #4caf50;'; 
                    }
                } else {
                    if (isUsed) {
                        cardClass = 'used';
                        btnClass = 'disabled';
                        btnText = 'ä½¿ç”¨æ¸ˆã¿';
                    }
                }

                const cardHtml = `
                    <div class="ticket-card ${cardClass}" id="card-${ticket.id}"
                         onmousedown="startPress(${ticket.id})" 
                         ontouchstart="startPress(${ticket.id})"
                         onmouseup="cancelPress()" 
                         onmouseleave="cancelPress()" 
                         ontouchend="cancelPress()"
                         ontouchmove="cancelPress()">
                        
                        <div class="used-stamp">ä½¿ç”¨æ¸ˆã¿</div>
                        <img src="images/${ticket.img}" alt="${ticket.title}" class="ticket-img">
                        <div class="action-area">
                            <button class="use-btn ${btnClass}" style="${btnStyle}"
                                    onclick="confirmUse(event, ${ticket.id}, '${ticket.title}')">
                                ${btnText}
                            </button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', cardHtml);
            });
        });

        function toggleTerms(btn) {
            const content = document.getElementById('terms-content');
            btn.classList.toggle('open');
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
            }
        }

        function confirmUse(e, ticketId, title) {
            e.stopPropagation();
            if (ticketId !== 10 && usedStatus[ticketId]) return;

            let msg = `ã€${title}ã€‘\n\næœ¬å½“ã«ä½¿ç”¨ã—ã¾ã™ã‹ï¼Ÿ\nâ€»ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã›ã¾ã›ã‚“ï¼`;
            if (ticketId === 10) {
                msg = `ã€${title}ã€‘\n\nãŠé¢¨å‘‚ã‚’ã‚µãƒœã‚Šã¾ã™ã‹ï¼Ÿ\nï¼ˆâ€»ã“ã®åˆ¸ã¯ä½•åº¦ã§ã‚‚ä½¿ãˆã¾ã™ï¼ï¼‰`;
            }

            if (confirm(msg)) {
                useTicket(ticketId);
            }
        }

        function useTicket(ticketId) {
            usedStatus[ticketId] = true;
            localStorage.setItem(STORAGE_KEY, JSON.stringify(usedStatus));

            if (ticketId === 10) {
                const card = document.getElementById(`card-${ticketId}`);
                const btn = card.querySelector('.use-btn');
                const stamp = card.querySelector('.used-stamp');

                stamp.innerText = "æ‰¿èªï¼";
                stamp.style.color = "blue";
                stamp.style.borderColor = "blue";
                
                card.classList.add('used');
                btn.classList.add('disabled');
                btn.innerText = 'æ‰¿èªå®Œäº†...';
                btn.style.backgroundColor = ''; 

                setTimeout(() => {
                    card.classList.remove('used');
                    btn.classList.remove('disabled');
                    btn.innerText = 'ã¾ãŸã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ï¼Ÿ';
                    btn.style.backgroundColor = '#4caf50'; 
                }, 3000);
                return; 
            }

            const card = document.getElementById(`card-${ticketId}`);
            const btn = card.querySelector('.use-btn');
            updateCardUI(card, btn, true);
        }

        function startPress(ticketId) {
            if (!usedStatus[ticketId]) return;
            pressTimer = setTimeout(() => {
                if (confirm("ã€ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰ã€‘\n\nã“ã®ãƒã‚±ãƒƒãƒˆã‚’ã€Œæœªä½¿ç”¨ã€ã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ")) {
                    resetTicket(ticketId);
                }
            }, 2000);
        }

        function cancelPress() {
            clearTimeout(pressTimer);
        }

        function resetTicket(ticketId) {
            delete usedStatus[ticketId];
            localStorage.setItem(STORAGE_KEY, JSON.stringify(usedStatus));

            const card = document.getElementById(`card-${ticketId}`);
            const btn = card.querySelector('.use-btn');
            
            if (ticketId === 10) {
                card.classList.remove('used');
                btn.classList.remove('disabled');
                btn.innerText = 'ä½¿ç”¨ã™ã‚‹ï¼';
                btn.style.backgroundColor = ''; 
            } else {
                updateCardUI(card, btn, false);
            }
            alert("ãƒã‚±ãƒƒãƒˆã‚’å¾©æ´»ã•ã›ã¾ã—ãŸï¼");
        }

        function updateCardUI(card, btn, isUsed) {
            if (isUsed) {
                card.classList.add('used');
                btn.classList.add('disabled');
                btn.innerText = 'ä½¿ç”¨æ¸ˆã¿';
            } else {
                card.classList.remove('used');
                btn.classList.remove('disabled');
                btn.innerText = 'ä½¿ç”¨ã™ã‚‹ï¼';
            }
        }
    </script>
</body>
</html>